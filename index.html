<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Ø¨ØµÙ…Ø© ØºÙŠØ± Ù„Ù„Ø¯ÙŠÙƒÙˆØ±</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø®Ø·ÙˆØ· Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© -->
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;500;800;900&family=Amiri:wght@400;700&family=Lateef&family=Almarai:wght@300;400;800&family=Changa:wght@200;400;600;800&family=Lalezar&display=swap" rel="stylesheet">
    <style>
        /* Ø¥Ø¶Ø§ÙØ© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ø·ÙˆØ· ÙƒÙ…ØªØºÙŠØ±Ø§Øª CSS */
        :root {
            --font-tajawal: 'Tajawal', sans-serif;
            --font-amiri: 'Amiri', serif;
            --font-lateef: 'Lateef', serif;
            --font-almarai: 'Almarai', sans-serif;
            --font-changa: 'Changa', sans-serif;
            --font-lalezar: 'Lalezar', cursive;
        }
        
        /* Ø§Ù„Ø«ÙŠÙ… Ø§Ù„Ø¹ØµØ±ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯ - Earthy Elegance (ØªØ¯Ø±Ø¬Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ¹Ø©) */
        :root {
            --primary: #8B4513; /* Brown - Ù„ÙˆÙ† Ø§Ù„Ø®Ø´Ø¨ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ */
            --primary-light: #A0522D;
            --primary-dark: #654321;
            --accent: #D2691E; /* Chocolate - Ù„ÙˆÙ† Ø¯Ø§ÙØ¦ */
            --accent-light: #DEB887; /* Burlywood */
            --bg: #FAF3E0; /* Cream - Ù„ÙˆÙ† ÙƒØ±ÙŠÙ…ÙŠ Ø¯Ø§ÙØ¦ */
            --bg-gradient: linear-gradient(135deg, #FAF3E0 0%, #F5E6CA 100%);
            --card: rgba(255, 255, 255, 0.95);
            --card-hover: #ffffff;
            --green: #228B22; /* Forest Green */
            --red: #C41E3A; /* Cardinal Red */
            --text-primary: #2C1810; /* Dark Brown */
            --text-secondary: #5D4037; /* Brown Grey */
            --border: rgba(139, 69, 19, 0.2); /* Brown transparent */
            --border-light: rgba(210, 105, 30, 0.15);
            --nav-bg: rgba(255, 255, 255, 0.98);
            --input-bg: #ffffff;
            --input-border: #D2B48C; /* Tan */
            --shadow-color: rgba(139, 69, 19, 0.1);
            --shadow-hover: rgba(139, 69, 19, 0.2);
            --about-bg: rgba(139, 69, 19, 0.05);
            --path-bg: rgba(210, 105, 30, 0.08);
            --status-bg: rgba(255, 255, 255, 0.9);
            --admin-bg: #ffffff;
            --admin-section: #FFF8E1;
            --header-font: 'Tajawal', sans-serif;
            --glass-effect: blur(20px);
            
            /* Ù…ØªØºÙŠØ±Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© */
            --theme-name: 'earthy';
            
            /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø¬Ø¯ÙŠØ¯Ø© */
            --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --radius-card: 16px;
            --radius-small: 12px;
            --radius-full: 9999px;
        }
        
        /* Ø£Ù†Ù…Ø§Ø· Ø®Ø§ØµØ© Ø¨Ø§Ù„Ø«ÙŠÙ… Ø§Ù„Ø¹ØµØ±ÙŠ */
        .card {
            background: var(--card);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-card);
            overflow: hidden;
            position: relative;
            transition: var(--transition-smooth);
            box-shadow: 0 4px 6px -1px var(--shadow-color), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        
        .card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 25px -5px var(--shadow-hover), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            border-color: var(--accent);
        }
        
        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            background-size: 200% 100%;
            animation: shimmer 3s infinite linear;
        }
        
        .btn-order {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            border: none;
            font-weight: 800;
            position: relative;
            overflow: hidden;
            transition: var(--transition-smooth);
        }
        
        .btn-order:hover {
            background: linear-gradient(135deg, var(--primary-dark), var(--primary));
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(139, 69, 19, 0.3);
        }
        
        .whatsapp-btn {
            background: linear-gradient(135deg, #25D366, #128C7E);
            color: white;
            box-shadow: 0 10px 25px rgba(37, 211, 102, 0.3);
            border: none;
            transition: var(--transition-smooth);
        }
        
        .whatsapp-btn:hover {
            background: linear-gradient(135deg, #128C7E, #25D366);
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(37, 211, 102, 0.4);
        }
        
        .nav-btn.active {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            box-shadow: 0 8px 20px rgba(139, 69, 19, 0.25);
        }
        
        .nav-btn {
            background: white;
            border: 1px solid var(--border);
            color: var(--text-secondary);
            transition: var(--transition-smooth);
        }
        
        .nav-btn:hover {
            background: rgba(139, 69, 19, 0.05);
            border-color: var(--primary-light);
            color: var(--primary);
            transform: translateY(-2px);
        }
        
        .path-step {
            background: white;
            border: 1px solid var(--border-light);
            border-radius: var(--radius-small);
            transition: var(--transition-smooth);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
        }
        
        .path-step:hover {
            background: var(--path-bg);
            border-color: var(--accent);
            transform: translateY(-5px);
            box-shadow: 0 12px 25px -5px rgba(210, 105, 30, 0.2);
        }
        
        .social-icons a {
            background: white;
            color: var(--primary);
            border: 1px solid var(--border);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
            transition: var(--transition-smooth);
        }
        
        .social-icons a:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-4px);
            box-shadow: 0 12px 20px -5px rgba(139, 69, 19, 0.3);
            border-color: var(--primary);
        }
        
        .status-badge.open-glow {
            background: linear-gradient(135deg, rgba(34, 139, 34, 0.15), rgba(210, 105, 30, 0.15));
            border: 1.5px solid #228B22;
            color: #228B22;
            box-shadow: 0 8px 20px rgba(34, 139, 34, 0.15);
        }
        
        .status-badge.closed-glow {
            background: linear-gradient(135deg, rgba(196, 30, 58, 0.15), rgba(210, 105, 30, 0.15));
            border: 1.5px solid #C41E3A;
            color: #C41E3A;
            box-shadow: 0 8px 20px rgba(196, 30, 58, 0.15);
        }
        
        .partners-title {
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 4px 12px rgba(139, 69, 19, 0.1);
        }
        
        .reviews-display-box {
            background: white;
            border: 1px solid var(--border-light);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.05);
        }
        
        .schedule-container,
        .location-container {
            background: white;
            border: 1px solid var(--border-light);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.05);
        }
        
        .drawing-section {
            background: white;
            border: 1px solid var(--border-light);
            box-shadow: 0 20px 40px -10px rgba(0, 0, 0, 0.08);
        }
        
        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 20px rgba(139, 69, 19, 0.2); }
            50% { box-shadow: 0 0 30px rgba(139, 69, 19, 0.4); }
        }
        
        /* ØªØµÙ…ÙŠÙ… Ø®Ù„ÙÙŠØ© Ø£Ù†ÙŠÙ‚Ø© */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(139, 69, 19, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(210, 105, 30, 0.06) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(255, 255, 255, 0.1) 0%, transparent 50%);
            z-index: -1;
            pointer-events: none;
        }
        
        /* ØªØµÙ…ÙŠÙ… Ø§Ù„Ø´Ø±ÙƒØ§Ø¡ */
        .partners-section {
            background: linear-gradient(135deg, #FFF8E1 0%, #FFECB3 100%);
            position: relative;
            overflow: hidden;
        }
        
        .partners-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--accent), transparent);
        }
        
        /* ØªØµÙ…ÙŠÙ… Ø§Ù„ØªÙ†Ù‚Ù„ */
        nav {
            backdrop-filter: var(--glass-effect);
            background: var(--nav-bg);
            border-bottom: 1px solid var(--border-light);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
        }
        
        /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ù€ hover Ù„Ù„ØµÙˆØ± */
        .img-container {
            overflow: hidden;
            position: relative;
        }
        
        .img-container::after {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.1), transparent);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .img-container:hover::after {
            opacity: 1;
        }
        
        /* ØªØµÙ…ÙŠÙ… Ù‚Ø³Ù… Ù…Ù† Ù†Ø­Ù† */
        .about-toggle {
            background: white;
            border: 2px solid var(--primary);
            color: var(--primary);
            transition: var(--transition-smooth);
            font-weight: 800;
        }
        
        .about-toggle:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(139, 69, 19, 0.2);
        }
        
        .about-content {
            background: white;
            border: 1px solid var(--border-light);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.05);
        }
        
        /* ØªØµÙ…ÙŠÙ… Ø§Ù„Ù†Ø¬ÙˆÙ… Ù„Ù„ØªÙ‚ÙŠÙŠÙ… */
        .rating-stars i {
            cursor: pointer;
            transition: all 0.2s ease;
            color: #D7CCC8;
        }
        
        .rating-stars i:hover {
            transform: scale(1.2);
            color: #FFB300;
        }
        
        .rating-stars i.active {
            color: #FFB300;
        }
        
        /* ØªØµÙ…ÙŠÙ… Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© */
        .admin-box {
            background: white;
            border: 1px solid var(--border-light);
            box-shadow: 0 20px 40px -10px rgba(0, 0, 0, 0.08);
        }
        
        .collapse-section {
            background: white;
            border: 1px solid var(--border-light);
            transition: var(--transition-smooth);
        }
        
        .collapse-section:hover {
            border-color: var(--primary-light);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.05);
        }
        
        .collapse-btn {
            background: white;
            color: var(--text-primary);
            transition: var(--transition-smooth);
        }
        
        .collapse-btn:hover {
            background: rgba(139, 69, 19, 0.05);
            color: var(--primary);
        }
        
        /* ØªØµÙ…ÙŠÙ… Ø§Ù„Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ø­Ø±Ø© */
        .drawing-canvas-container {
            background: white;
            border: 1px solid var(--border-light);
            box-shadow: 0 15px 30px -10px rgba(0, 0, 0, 0.08);
        }
        
        .tool-btn {
            background: white;
            border: 1px solid var(--border);
            color: var(--text-secondary);
            transition: var(--transition-smooth);
        }
        
        .tool-btn:hover {
            background: rgba(139, 69, 19, 0.05);
            border-color: var(--primary-light);
            color: var(--primary);
            transform: translateY(-2px);
        }
        
        .tool-btn.active {
            background: var(--primary);
            border-color: var(--primary);
            color: white;
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(139, 69, 19, 0.25);
        }
        
        .color-dot {
            transition: var(--transition-smooth);
            border: 2px solid white;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        
        .color-dot:hover {
            transform: scale(1.15);
            box-shadow: 0 8px 15px -3px rgba(0, 0, 0, 0.2);
        }
        
        .color-dot.selected {
            border-color: white;
            box-shadow: 0 0 0 3px var(--primary), 0 8px 15px -3px rgba(0, 0, 0, 0.2);
            transform: scale(1.1);
        }
        
        .control-btn {
            transition: var(--transition-smooth);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }
        
        .control-btn:hover {
            transform: translateY(-4px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }
        
        .control-btn:active {
            transform: translateY(-1px);
        }
        
        /* ØªØµÙ…ÙŠÙ… Ù‚Ø³Ù… Ø§Ù„Ù„ÙˆÙƒÙŠØ´Ù† */
        .location-card {
            background: white;
            border: 1px solid var(--border-light);
            transition: var(--transition-smooth);
        }
        
        .location-card:hover {
            border-color: var(--primary-light);
            box-shadow: 0 12px 25px -5px rgba(139, 69, 19, 0.1);
        }
        
        .location-btn {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            transition: var(--transition-smooth);
        }
        
        .location-btn:hover {
            background: linear-gradient(135deg, var(--primary-dark), var(--primary));
            transform: translateY(-3px);
            box-shadow: 0 12px 25px rgba(139, 69, 19, 0.25);
        }
        
        /* ØªØµÙ…ÙŠÙ… Ù‚Ø³Ù… Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ */
        .schedule-group {
            background: rgba(255, 248, 225, 0.8);
            border: 1px solid var(--border-light);
            transition: var(--transition-smooth);
        }
        
        .schedule-group:hover {
            background: white;
            border-color: var(--primary-light);
            transform: translateY(-2px);
        }
        
        /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø®Ø§ØµØ© */
        .glow-effect {
            animation: pulse-glow 2s infinite;
        }
        
        .float-effect {
            animation: float 3s ease-in-out infinite;
        }
        
        * { 
            box-sizing: border-box; 
            -webkit-tap-highlight-color: transparent; 
            margin: 0; 
            padding: 0; 
        }
        
        body { 
            font-family: var(--header-font); 
            background: var(--bg-gradient); 
            color: var(--text-primary); 
            overflow-x: hidden; 
            min-height: 100vh; 
            display: flex; 
            flex-direction: column; 
        }
        
        #splash { 
            position: fixed; 
            top: 0; 
            left: 0; 
            right: 0; 
            bottom: 0; 
            background: var(--bg-gradient); 
            z-index: 99999999; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            transition: opacity 0.5s ease; 
        }
        
        .partners-section { 
            height: 38vh; 
            display: flex; 
            flex-direction: column;
            align-items: center; 
            justify-content: center; 
            position: relative; 
            overflow: hidden; 
            border-bottom: 1px solid var(--border-light);
        }
        
        .partner-slide-container {
            position: relative;
            width: 100%;
            height: 160px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .partner-slide { 
            position: absolute; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            opacity: 0; 
            transition: all 1.2s cubic-bezier(0.4, 0, 0.2, 1); 
            width: 100%;
            pointer-events: none;
            transform: scale(0.9);
        }
        
        .partner-slide.active { opacity: 1; transform: scale(1); }
        
        .partner-img { 
            max-height: 140px; 
            max-width: 75%; 
            object-fit: contain; 
            filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.1));
            pointer-events: none;
        }

        /* Ù…Ø³Ø§Ø± Ø§Ù„Ø¹Ù…Ù„ */
        .work-path-container { 
            margin: 25px auto; 
            max-width: 550px; 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 12px; 
        }
        
        .path-step { 
            background: white; 
            border: 1px solid var(--border-light); 
            padding: 20px 10px; 
            border-radius: 15px; 
            text-align: center; 
            transition: transform 0.3s ease;
        }
        
        .path-step i { color: var(--primary); font-size: 1.6rem; margin-bottom: 10px; display: block; }
        .path-step h4 { font-size: 0.95rem; color: var(--text-primary); font-weight: 800; margin-bottom: 5px; }
        .path-step p { font-size: 0.72rem; color: var(--text-secondary); line-height: 1.4; }

        /* Ø§Ù„ØªÙ†Ù‚Ù„ */
        nav { 
            position: sticky; 
            top: 0; 
            z-index: 1000; 
            background: var(--nav-bg); 
            padding: 12px 10px; 
            border-bottom: 1px solid var(--border); 
            display: flex; 
            justify-content: safe center; 
            gap: 10px; 
            overflow-x: auto; 
            scroll-behavior: smooth; 
            -webkit-overflow-scrolling: touch; 
            scrollbar-width: none; 
        }
        
        nav::-webkit-scrollbar { display: none; }
        
        .nav-btn { 
            padding: 8px 22px; 
            border: none; 
            background: white; 
            color: var(--text-secondary); 
            font-weight: 800; 
            border-radius: 40px; 
            cursor: pointer; 
            white-space: nowrap; 
            flex-shrink: 0; 
            transition: 0.3s; 
        }
        
        .nav-btn.active { 
            background: linear-gradient(135deg, var(--primary), var(--accent)); 
            color: #fff; 
        }
        
        /* Ù‚Ø³Ù… Ù…Ù† Ù†Ø­Ù† */
        .about-toggle { 
            background: none; 
            border: 2px solid var(--primary); 
            color: var(--primary); 
            padding: 8px 25px; 
            border-radius: 40px; 
            font-weight: 800; 
            cursor: pointer; 
            margin-bottom: 15px; 
            transition: 0.3s; 
            display: inline-block; 
            margin-left: 5px; 
        }
        
        .about-content { 
            max-height: 0; 
            overflow: hidden; 
            transition: max-height 0.5s ease-out; 
            background: var(--about-bg); 
            border-radius: 15px; 
            margin: 0 auto 15px; 
            max-width: 550px; 
            line-height: 1.6; 
            color: var(--text-secondary); 
            text-align: right; 
        }
        
        .about-content.open { 
            max-height: 1500px; 
            padding: 20px; 
            border: 1px solid var(--border); 
        }
        
        .sec { 
            width: 95%; 
            max-width: 1400px; 
            margin: 20px auto 100px; 
            display: none; 
            flex-grow: 1; 
        }
        
        .sec.active { display: block; }
        
        /* Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª */
        .grid { 
            display: grid; 
            gap: 15px; 
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); 
        }
        
        .img-container { 
            position: relative; 
            width: 100%; 
            height: 160px; 
            cursor: pointer; 
            overflow: hidden; 
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .img-container img { 
            width: 100%; 
            height: 100%; 
            object-fit: cover; 
            transition: transform 0.5s ease;
        }
        
        .wm-tag { 
            position: absolute; 
            bottom: 8px; 
            left: 50%; 
            transform: translateX(-50%); 
            font-size: 0.75rem; 
            font-weight: 900; 
            color: rgba(255, 255, 255, 0.35); 
            text-shadow: 0 0 8px var(--primary), 0 0 15px var(--primary); 
            pointer-events: none; 
            z-index: 2; 
            white-space: nowrap; 
        }
        
        .btn-order { 
            width: 100%; 
            padding: 12px; 
            background: linear-gradient(135deg, var(--primary), var(--primary-dark)); 
            color: #fff; 
            border: none; 
            font-weight: 800; 
            cursor: pointer; 
            transition: background-color 0.3s ease;
        }
        
        .whatsapp-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            border-radius: 50px;
            padding: 15px 40px;
            width: auto;
            background: linear-gradient(135deg, #25D366, #128C7E);
            color: white;
            font-weight: 900;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
        }
        
        .status-badge { 
            padding: 8px 25px; 
            border-radius: 50px; 
            font-weight: 900; 
            display: inline-flex; 
            align-items: center; 
            gap: 8px; 
            font-size: 0.9rem; 
            transition: 0.3s; 
        }
        
        .social-icons { 
            display: flex; 
            justify-content: center; 
            gap: 25px; 
            margin-top: 30px; 
        }
        
        .social-icons a { 
            color: var(--primary); 
            font-size: 1.8rem; 
            transition: 0.3s; 
        }
        
        /* Ø§Ù„Ù…Ø¹Ø±Ø¶ */
        #viewer { 
            position: fixed; 
            top: 0; 
            left: 0; 
            right: 0; 
            bottom: 0; 
            background: rgba(255, 255, 255, 0.98); 
            z-index: 1000000; 
            display: none; 
            align-items: center; 
            justify-content: center; 
            cursor: pointer;
        }
        
        #viewer-img { 
            max-width: 95%; 
            max-height: 95vh; 
            object-fit: contain;
            cursor: default;
            position: relative;
        }
        
        .close-viewer-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            background: rgba(196, 30, 58, 0.9);
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            z-index: 1000002;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        /* Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© */
        #admin-panel { 
            display: none; 
            position: fixed; 
            top: 0; 
            left: 0; 
            right: 0; 
            bottom: 0; 
            background: var(--admin-bg); 
            z-index: 100000000; 
            padding: 15px; 
            overflow-y: auto; 
        }
        
        .admin-box { 
            max-width: 900px; 
            margin: 20px auto; 
            background: var(--admin-bg); 
            padding: 20px; 
            border-radius: 15px; 
            border: 1px solid var(--primary); 
            color: var(--text-primary);
        }
        
        .collapse-section { 
            background: var(--admin-section); 
            border-radius: 10px; 
            margin-bottom: 10px; 
            border: 1px solid var(--border); 
        }
        
        .collapse-btn { 
            width: 100%; 
            padding: 15px; 
            background: none; 
            border: none; 
            color: var(--primary); 
            font-weight: 800; 
            text-align: right; 
            display: flex; 
            justify-content: space-between; 
            cursor: pointer;
        }
        
        .collapse-content { 
            display: none; 
            padding: 15px; 
            border-top: 1px solid var(--border); 
        }
        
        input, textarea, select { 
            width: 100%; 
            padding: 12px; 
            margin-bottom: 10px; 
            background: var(--input-bg); 
            border: 1px solid var(--input-border); 
            color: var(--text-primary); 
            border-radius: 8px; 
            font-family: 'Tajawal'; 
        }
        
        footer { 
            padding: 20px; 
            text-align: center; 
            color: var(--text-secondary); 
            font-size: 0.9rem; 
            border-top: 1px solid var(--border); 
            margin-top: auto; 
            background: white;
        }
        
        /* Ø§Ù„Ø­Ù…Ø§ÙŠØ© */
        #protection-toggle {
            position: fixed;
            bottom: 70px;
            left: 10px;
            width: 50px;
            height: 50px;
            background: #228B22;
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            z-index: 200000001;
            display: none;
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }
        
        #hidden-trigger { 
            position: fixed; 
            bottom: 0; 
            left: 0; 
            width: 60px; 
            height: 60px; 
            z-index: 200000000; 
            cursor: pointer; 
            opacity: 0;
        }
    </style>
</head>
<body>

<div id="splash"> 
    <h2 style="color:var(--primary); font-size:2rem;">Ø¨ØµÙ…Ø© ØºÙŠØ±...</h2> 
</div>

<div class="partners-section">
    <div class="partners-title-container">
        <div id="partners-title-text" class="partners-title"></div>
    </div>
    <div id="partners-display" class="partner-slide-container"></div>
</div>

<nav id="navbar"></nav>

<main id="content-area"></main>

<footer id="site-footer"></footer>

<!-- Ø²Ø± Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© -->
<button id="protection-toggle" onclick="toggleProtection()" title="ØªÙØ¹ÙŠÙ„/ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ø­Ù…Ø§ÙŠØ©">
    <i class="fas fa-shield-alt"></i>
</button>

<div id="viewer" onclick="closeViewerOnOverlay(event)">
    <button class="close-viewer-btn" onclick="closeViewer()">
        <i class="fas fa-times"></i>
    </button>
    <img id="viewer-img" src="">
    <div class="viewer-watermark" id="viewer-watermark"></div>
</div>

<div id="admin-panel">
    <div class="admin-box">
        <h2 style="color:var(--primary); text-align:center; margin-bottom:20px;">Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</h2>
        
        <div class="collapse-section">
            <button class="collapse-btn" onclick="toggleCol('c_partners')">ğŸ¤ Ø´Ø±ÙƒØ§Ø¡ Ø§Ù„Ù†Ø¬Ø§Ø­</button>
            <div id="c_partners" class="collapse-content">
                <input type="text" id="admin-partners-title" placeholder="Ø§Ù„Ø¹Ø¨Ø§Ø±Ø© Ø§Ù„ØªÙŠ ØªØ¸Ù‡Ø± ÙÙˆÙ‚ Ø§Ù„Ø´Ø¹Ø§Ø±Ø§Øª">
                <button onclick="savePartnersTitle()" style="width:100%; background:var(--primary); color:#fff; padding:10px; border:none; border-radius:8px; margin-bottom:15px; font-weight:bold;">Ø­ÙØ¸ Ø§Ù„Ø¹Ø¨Ø§Ø±Ø©</button>
                <hr style="border:1px solid var(--border); margin-bottom:15px;">
                <div id="admin-partners-list"></div>
                <input type="text" id="new-partner-url" placeholder="Ø±Ø§Ø¨Ø· Ø´Ø¹Ø§Ø± Ø§Ù„Ø´Ø±ÙƒØ©">
                <button onclick="addPartner()" style="width:100%; background:#228B22; color:#fff; padding:12px; border:none; border-radius:8px;">Ø¥Ø¶Ø§ÙØ© Ø´Ø¹Ø§Ø±</button>
            </div>
        </div>

        <div class="collapse-section">
            <button class="collapse-btn" onclick="toggleCol('c_about')">ğŸ“– Ù…Ù† Ù†Ø­Ù†</button>
            <div id="c_about" class="collapse-content">
                <label><input type="checkbox" id="in-about-active"> ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù‚Ø³Ù…</label>
                <textarea id="editor-about" placeholder="Ø§ÙƒØªØ¨ Ù…Ø­ØªÙˆÙ‰ 'Ù…Ù† Ù†Ø­Ù†' Ù‡Ù†Ø§..." rows="10"></textarea>
                <button onclick="saveAbout()" style="width:100%; background:var(--primary); color:#fff; padding:12px; border:none; border-radius:8px; margin-top:10px;">Ø­ÙØ¸</button>
            </div>
        </div>

        <div class="collapse-section">
            <button class="collapse-btn" onclick="toggleCol('c_set')">âš™ï¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©</button>
            <div id="c_set" class="collapse-content">
                <input type="text" id="in-name" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹">
                <input type="text" id="in-wa" placeholder="ÙˆØ§ØªØ³Ø§Ø¨">
                <input type="text" id="in-wm" placeholder="Ù†Øµ Ø§Ù„ÙˆØªØ± Ù…Ø§Ø±Ùƒ">
                <input type="text" id="in-footer" placeholder="Ù†Øµ Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ø­ÙØ¸">
                <button onclick="saveSettings()" style="width:100%; background:var(--primary); padding:12px; border:none; border-radius:8px; color:white; font-weight:bold;">Ø­ÙØ¸</button>
            </div>
        </div>
        
        <button onclick="location.reload()" style="width:100%; background:#C41E3A; color:#fff; padding:15px; border:none; margin-top:20px; border-radius:8px;">Ø®Ø±ÙˆØ¬</button>
    </div>
</div>

<div id="hidden-trigger" onclick="checkAccess()"></div>

<script>
    // ========== ØªÙ‡ÙŠØ¦Ø© Firebase ==========
    const firebaseConfig = {
        apiKey: "AIzaSyC0hGvWzpb0UxA_RrYn-0PQKyaATXavEGY",
        authDomain: "mydecor-b29bd.firebaseapp.com",
        databaseURL: "https://mydecor-b29bd-default-rtdb.europe-west1.firebasedatabase.app",
        projectId: "mydecor-b29bd",
        storageBucket: "mydecor-b29bd.firebasestorage.app",
        messagingSenderId: "302609299720",
        appId: "1:302609299720:web:e086b600c3ee824acd54bd"
    };

    firebase.initializeApp(firebaseConfig);
    
    const db = firebase.database();
    const auth = firebase.auth();
    const DB_PATH = 'site_v28';
    
    let currentData = {}; 
    let currentTab = 'home'; 
    let isAdmin = false; 
    let userRating = 0; 
    let reviewIdx = 0; 
    let partnerIdx = 0;

    // ========== ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Firebase ==========
    db.ref(DB_PATH).on('value', snap => {
        currentData = snap.val() || {}; 
        document.getElementById('splash').style.opacity = '0';
        setTimeout(() => {
            document.getElementById('splash').style.display = 'none';
        }, 500);
        
        renderAll(); 
        
        if(currentData.partners_title) {
            document.getElementById('partners-title-text').innerText = currentData.partners_title;
        }
        
        startPartnersSlider();
        
        if (currentData.footer_text) {
            document.getElementById('site-footer').innerText = currentData.footer_text;
        }
        
        if (isAdmin) {
            document.getElementById('protection-toggle').style.display = 'flex';
        }
    }, function(error) {
        console.error("Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:", error);
        document.getElementById('splash').style.display = 'none';
    });

    function renderAll() {
        const d = currentData;
        
        let navHtml = `<button class="nav-btn ${currentTab==='home'?'active':''}" onclick="go('home')">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>`;
        
        if(d.pages) {
            Object.keys(d.pages).forEach(id => {
                navHtml += `<button class="nav-btn ${currentTab===id?'active':''}" onclick="go('${id}')">${d.pages[id].title}</button>`;
            });
        }
        
        document.getElementById('navbar').innerHTML = navHtml;
        
        let aboutBox = '';
        if(d.about_active && d.about_text) {
            aboutBox = `<button class="about-toggle" onclick="toggleAbout('about-box')">Ù…Ù† Ù†Ø­Ù†</button>
                       <div id="about-box" class="about-content">${d.about_text}</div>`;
        }
        
        let mainContent = `
        <section class="sec ${currentTab==='home'?'active':''}">
            <div style="text-align:center; padding:20px;">
                ${aboutBox}
                <div class="work-path-container">
                    <div class="path-step"><i class="fas fa-comments"></i><h4>Ø§Ù„Ø§Ø³ØªØ´Ø§Ø±Ø©</h4><p>Ù†Ø³Ù…Ø¹ Ø£ÙÙƒØ§Ø±Ùƒ ÙˆÙ†Ø±Ø³Ù… Ø§Ù„ØªØµÙˆØ± Ø§Ù„Ø£ÙˆÙ„ÙŠ Ù„Ù…Ø³Ø§Ø­ØªÙƒ</p></div>
                    <div class="path-step"><i class="fas fa-ruler-combined"></i><h4>Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©</h4><p>Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙˆØ±ÙØ¹ Ø§Ù„Ù…Ù‚Ø§Ø³Ø§Øª Ø¨Ø¯Ù‚Ø© Ù…ØªÙ†Ø§Ù‡ÙŠØ©</p></div>
                    <div class="path-step"><i class="fas fa-pencil-ruler"></i><h4>Ø§Ù„ØªØµÙ…ÙŠÙ…</h4><p>ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø®ÙŠØ§Ù„ Ù„ÙˆØ§Ù‚Ø¹ Ø¹Ø¨Ø± Ù†Ù…Ø§Ø°Ø¬ Ø§Ø­ØªØ±Ø§ÙÙŠØ©</p></div>
                    <div class="path-step"><i class="fas fa-hammer"></i><h4>Ø§Ù„ØªÙ†ÙÙŠØ°</h4><p>ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØµÙ…ÙŠÙ… Ø¨Ø£Ø¹Ù„Ù‰ Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ø¬ÙˆØ¯Ø© ÙˆØ¨ØµÙ…Ø© ØºÙŠØ±</p></div>
                </div>
                
                <div style="margin:30px 0;">
                    <button onclick="whatsappGlobal()" class="whatsapp-btn">
                        ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ <i class="fab fa-whatsapp"></i>
                    </button>
                </div>
                
                <div class="social-icons">
                    ${d.insta_url ? `<a href="${d.insta_url}" target="_blank"><i class="fab fa-instagram"></i></a>`:''}
                    ${d.tiktok_url ? `<a href="${d.tiktok_url}" target="_blank"><i class="fab fa-tiktok"></i></a>`:''}
                </div>
            </div>
        </section>`;
        
        let contentHtml = mainContent;
        
        if(d.pages) {
            Object.keys(d.pages).forEach(id => {
                const page = d.pages[id];
                let pageContent = '<div style="text-align:center; padding:20px;">';
                
                if(page.imgs) {
                    pageContent += '<div class="grid">';
                    Object.keys(page.imgs).forEach(imgId => {
                        const img = page.imgs[imgId];
                        pageContent += `
                        <div class="card">
                            <div class="img-container" onclick="openImg('${img.url}')">
                                <img src="${img.url}" loading="lazy">
                                <div class="wm-tag">${d.wm_text || ''}</div>
                            </div>
                            <button onclick="whatsappOrder('${img.url}')" class="btn-order">Ø§Ø³ØªÙØ³Ø§Ø±</button>
                        </div>`;
                    });
                    pageContent += '</div>';
                } else {
                    pageContent += '<p style="color:var(--text-secondary); padding:50px;">Ù‚Ø±ÙŠØ¨Ø§Ù‹...</p>';
                }
                
                pageContent += '</div>';
                
                contentHtml += `<section class="sec ${currentTab===id?'active':''}">${pageContent}</section>`;
            });
        }
        
        document.getElementById('content-area').innerHTML = contentHtml;
    }
    
    function startPartnersSlider() {
        const container = document.getElementById('partners-display');
        if(!currentData.partners || Object.keys(currentData.partners).length === 0) { 
            container.innerHTML = '<h2 style="color:var(--primary);">Ø¨ØµÙ…Ø© ØºÙŠØ±</h2>'; 
            return; 
        }
        
        const ids = Object.keys(currentData.partners);
        let html = ids.map((id, idx) => `
            <div class="partner-slide" id="partner-${idx}">
                <img src="${currentData.partners[id].url}" class="partner-img">
            </div>
        `).join('');
        
        container.innerHTML = html;
        
        const cycle = () => {
            const all = document.querySelectorAll('.partner-slide');
            if(all.length === 0) return;
            
            all.forEach(el => el.classList.remove('active'));
            const current = document.getElementById(`partner-${partnerIdx}`);
            if(current) current.classList.add('active');
            
            partnerIdx = (partnerIdx + 1) % ids.length;
        };
        
        cycle();
        if(window.partnerInterval) clearInterval(window.partnerInterval);
        window.partnerInterval = setInterval(cycle, 4000);
    }
    
    function go(id) { 
        currentTab = id; 
        renderAll(); 
        window.scrollTo(0, 0); 
    }
    
    function toggleAbout(id) { 
        const element = document.getElementById(id);
        element.classList.toggle('open'); 
    }
    
    function openImg(url) {
        const viewer = document.getElementById('viewer');
        const img = document.getElementById('viewer-img');
        
        img.src = url;
        viewer.style.display = 'flex';
        document.body.style.overflow = 'hidden';
    }
    
    function closeViewer() {
        document.getElementById('viewer').style.display = 'none';
        document.body.style.overflow = 'auto';
    }
    
    function closeViewerOnOverlay(event) {
        if (event.target.id === 'viewer') {
            closeViewer();
        }
    }
    
    function whatsappGlobal() { 
        const whatsappNum = currentData.whatsapp_num || '966500000000';
        window.open(`https://wa.me/${whatsappNum}?text=${encodeURIComponent('Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ…ØŒ Ø£ÙˆØ¯ Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø¨ØµÙ…Ø© ØºÙŠØ± Ù„Ù„Ø¯ÙŠÙƒÙˆØ±.')}`, '_blank'); 
    }
    
    function whatsappOrder(url) { 
        const whatsappNum = currentData.whatsapp_num || '966500000000';
        window.open(`https://wa.me/${whatsappNum}?text=${encodeURIComponent('Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ…ØŒ Ø£ÙˆØ¯ Ø§Ù„Ø§Ø³ØªÙØ³Ø§Ø± Ø¹Ù† Ù‡Ø°Ø§ Ø§Ù„ØªØµÙ…ÙŠÙ…:\n'+url)}`, '_blank'); 
    }
    
    function toggleCol(id) { 
        const el = document.getElementById(id); 
        el.style.display = el.style.display === 'block' ? 'none' : 'block'; 
    }
    
    // ========== Ø¯ÙˆØ§Ù„ Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© ==========
    function checkAccess() {
        const userInput = prompt("ğŸ” Ø£Ø¯Ø®Ù„ Ø±Ù…Ø² Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©:");
        if (!userInput) return;
        
        db.ref(DB_PATH).once('value')
            .then(snapshot => {
                const data = snapshot.val();
                
                if (!data) {
                    alert("âŒ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");
                    return;
                }
                
                if (data.in && data.in.toString() === userInput.toString()) {
                    enterAdminPanel();
                    return;
                }
                
                alert("âŒ Ø§Ù„Ø±Ù…Ø² ØºÙŠØ± ØµØ­ÙŠØ­!");
            })
            .catch(error => {
                alert("âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…");
            });
    }
    
    function enterAdminPanel() {
        isAdmin = true;
        document.getElementById('admin-panel').style.display = 'block';
        document.getElementById('protection-toggle').style.display = 'flex';
        fillAdminFields();
    }
    
    function fillAdminFields() {
        const d = currentData;
        document.getElementById('in-name').value = d.site_name || '';
        document.getElementById('in-wa').value = d.whatsapp_num || '';
        document.getElementById('in-wm').value = d.wm_text || '';
        document.getElementById('in-footer').value = d.footer_text || '';
        document.getElementById('editor-about').value = d.about_text || '';
        document.getElementById('in-about-active').checked = d.about_active || false;
        document.getElementById('admin-partners-title').value = d.partners_title || '';
    }
    
    function savePartnersTitle() { 
        const title = document.getElementById('admin-partners-title').value; 
        db.ref(DB_PATH).update({ partners_title: title })
            .then(() => alert('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª'))
            .catch(error => alert('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø­ÙØ¸')); 
    }
    
    function addPartner() { 
        const url = document.getElementById('new-partner-url').value; 
        if(url) {
            db.ref(DB_PATH + '/partners').push({ url: url.trim() })
                .then(() => {
                    document.getElementById('new-partner-url').value = '';
                    alert('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø´Ø¹Ø§Ø± Ø§Ù„Ø´Ø±ÙŠÙƒ');
                })
                .catch(error => alert('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¥Ø¶Ø§ÙØ©'));
        }
    }
    
    function saveAbout() { 
        const aboutText = document.getElementById('editor-about').value;
        const aboutActive = document.getElementById('in-about-active').checked;
        
        db.ref(DB_PATH).update({ 
            about_text: aboutText, 
            about_active: aboutActive 
        })
        .then(() => alert('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª'))
        .catch(error => alert('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø­ÙØ¸')); 
    }
    
    function saveSettings() { 
        db.ref(DB_PATH).update({ 
            site_name: document.getElementById('in-name').value, 
            whatsapp_num: document.getElementById('in-wa').value, 
            wm_text: document.getElementById('in-wm').value, 
            footer_text: document.getElementById('in-footer').value 
        })
        .then(() => alert('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª'))
        .catch(error => alert('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø­ÙØ¸')); 
    }
    
    function toggleProtection() {
        alert('Ù…ÙŠØ²Ø© Ø§Ù„Ø­Ù…Ø§ÙŠØ© Ù‚ÙŠØ¯ Ø§Ù„ØªØ·ÙˆÙŠØ±');
    }

    // Ø¨Ø¯Ø¡ Ø§Ù„Ø´Ø±Ø§Ø¦Ø­ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
    setTimeout(startPartnersSlider, 1000);
</script>
</body>
</html>
