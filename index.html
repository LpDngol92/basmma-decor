<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>بصمة غير للديكور</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- إضافة الخطوط العربية -->
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;500;800;900&family=Amiri:wght@400;700&family=Lateef&family=Almarai:wght@300;400;800&family=Changa:wght@200;400;600;800&family=Lalezar&display=swap" rel="stylesheet">
    <style>
        /* إضافة جميع الخطوط كمتغيرات CSS */
        :root {
            --font-tajawal: 'Tajawal', sans-serif;
            --font-amiri: 'Amiri', serif;
            --font-lateef: 'Lateef', serif;
            --font-almarai: 'Almarai', sans-serif;
            --font-changa: 'Changa', sans-serif;
            --font-lalezar: 'Lalezar', cursive;
        }
        
        /* المتغيرات للثيم الأسود (الافتراضي) */
        :root {
            --primary: #5c0a0a;
            --gold: #c5a059;
            --bg: #0a0a0b;
            --card: rgba(20, 20, 22, 0.9);
            --green: #2ecc71;
            --red: #e74c3c;
            --text-primary: #e0e0e0;
            --text-secondary: #888;
            --border: rgba(197, 160, 89, 0.1);
            --nav-bg: rgba(10,10,11,0.95);
            --input-bg: #000;
            --input-border: #444;
            --shadow-color: rgba(0, 0, 0, 0.5);
            --about-bg: rgba(255,255,255,0.03);
            --path-bg: rgba(197, 160, 89, 0.05);
            --status-bg: rgba(255,255,255,0.03);
            --admin-bg: #111;
            --admin-section: #1a1a1c;
            --header-font: 'Tajawal', sans-serif;
        }
        
        * { 
            box-sizing: border-box; 
            -webkit-tap-highlight-color: transparent; 
            margin: 0; 
            padding: 0; 
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
        }
        
        img {
            -webkit-user-drag: none;
            -khtml-user-drag: none;
            -moz-user-drag: none;
            -o-user-drag: none;
            user-drag: none;
            pointer-events: none;
            -webkit-touch-callout: none;
        }
        
        #viewer-img {
            pointer-events: auto !important;
        }
        
        .admin-box img {
            pointer-events: auto !important;
        }
        
        body { 
            font-family: var(--header-font); 
            background: var(--bg); 
            color: var(--text-primary); 
            overflow-x: hidden; 
            min-height: 100vh; 
            display: flex; 
            flex-direction: column; 
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        
        /* تنبيه الحماية */
        #protection-notification {
            position: fixed;
            top: 20px;
            left: 20px;
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 0.9rem;
            z-index: 999999999;
            display: none;
            align-items: center;
            gap: 10px;
            box-shadow: 0 5px 20px rgba(231, 76, 60, 0.4);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            animation: protection-notification-slide 0.3s ease-out;
            max-width: 350px;
        }
        
        @keyframes protection-notification-slide {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .protection-text-small {
            flex-grow: 1;
            line-height: 1.4;
            font-weight: bold;
        }
        
        .protection-close {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            cursor: pointer;
            font-size: 1rem;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s;
        }
        
        #splash { 
            position: fixed; 
            inset: 0; 
            background: #000; 
            z-index: 99999999; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            transition: opacity 0.5s ease; 
        }
        
        /* شاشة الصيانة */
        #maintenance-screen { 
            position: fixed; 
            inset: 0; 
            background: #000; 
            z-index: 99999999; 
            display: none; 
            align-items: center; 
            justify-content: center; 
            text-align: center; 
            flex-direction: column; 
            overflow: hidden;
        }
        
        .maintenance-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(45deg, #000 0%, #111 50%, #000 100%);
            animation: maintenance-bg 3s infinite alternate;
        }
        
        @keyframes maintenance-bg {
            0% { opacity: 0.7; }
            100% { opacity: 1; }
        }
        
        .maintenance-content {
            position: relative;
            z-index: 2;
            padding: 40px;
            background: rgba(10, 10, 10, 0.9);
            border-radius: 20px;
            border: 2px solid var(--gold);
            box-shadow: 0 0 50px rgba(197, 160, 89, 0.3);
            max-width: 90%;
            animation: maintenance-pulse 2s infinite alternate;
        }
        
        .maintenance-title {
            color: var(--gold);
            font-size: 2.5rem;
            margin-bottom: 20px;
            font-weight: 900;
            text-shadow: 0 0 10px rgba(197, 160, 89, 0.5);
            animation: title-glow 1.5s infinite alternate;
        }
        
        .maintenance-message {
            color: #fff;
            font-size: 1.2rem;
            margin-bottom: 30px;
            line-height: 1.6;
            max-width: 500px;
        }
        
        .maintenance-icon {
            font-size: 4rem;
            color: var(--gold);
            margin-bottom: 20px;
            animation: icon-spin 3s infinite linear;
        }
        
        .maintenance-progress {
            width: 100%;
            height: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            overflow: hidden;
            margin: 20px 0;
        }
        
        .maintenance-progress-bar {
            height: 100%;
            width: 30%;
            background: linear-gradient(90deg, var(--gold), #ffd700);
            border-radius: 5px;
            animation: progress-move 2s infinite ease-in-out;
        }
        
        /* لوحة الإدارة */
        #admin-panel { 
            display: none; 
            position: fixed; 
            inset: 0; 
            background: var(--admin-bg); 
            z-index: 100000000; 
            padding: 15px; 
            overflow-y: auto; 
        }
        
        /* شريط الأخبار */
        .news-ticker { 
            background: transparent; 
            color: var(--gold); 
            height: 35px; 
            display: none; 
            align-items: center; 
            overflow: hidden; 
            position: relative; 
            z-index: 999; 
            margin-top: 5px; 
        }
        
        .ticker-content { 
            display: inline-block; 
            white-space: nowrap; 
            padding-right: 100%; 
            animation: ticker-move 20s linear infinite; 
            font-weight: 500; 
        }
        
        @keyframes ticker-move { 
            0% { transform: translateX(0); } 
            100% { transform: translateX(100%); } 
        }
        
        /* قسم الشركاء */
        .partners-section { 
            height: 38vh; 
            display: flex; 
            flex-direction: column;
            align-items: center; 
            justify-content: center; 
            position: relative; 
            background: radial-gradient(circle at center, var(--bg) 0%, var(--card) 100%); 
            overflow: hidden; 
            border-bottom: 1px solid var(--border);
        }
        
        .partners-title-container {
            text-align: center;
            margin-bottom: 25px;
            position: relative;
            padding: 0 20px;
        }
        
        .partners-title {
            color: var(--gold);
            font-weight: 900;
            font-size: 1.4rem;
            letter-spacing: 1px;
            z-index: 10;
            background: linear-gradient(135deg, #f1d39b 0%, var(--gold) 50%, #8a6d3b 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 10px rgba(197, 160, 89, 0.3));
            pointer-events: none;
            position: relative;
            display: inline-block;
            font-family: var(--header-font);
        }
        
        .partner-slide-container {
            position: relative;
            width: 100%;
            height: 160px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .partner-slide { 
            position: absolute; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            opacity: 0; 
            transition: all 1.2s cubic-bezier(0.4, 0, 0.2, 1); 
            width: 100%;
            pointer-events: none;
            transform: scale(0.9);
        }
        
        .partner-slide.active { opacity: 1; transform: scale(1); }
        
        .partner-img { 
            max-height: 140px; 
            max-width: 75%; 
            object-fit: contain; 
            filter: drop-shadow(0 5px 15px var(--shadow-color));
            pointer-events: none;
        }

        /* مسار العمل */
        .work-path-container { 
            margin: 25px auto; 
            max-width: 550px; 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 12px; 
        }
        
        .path-step { 
            background: var(--path-bg); 
            border: 1px solid var(--border); 
            padding: 20px 10px; 
            border-radius: 15px; 
            text-align: center; 
            transition: transform 0.3s ease;
        }
        
        .path-step:hover {
            transform: translateY(-5px);
        }
        
        .path-step i { color: var(--gold); font-size: 1.6rem; margin-bottom: 10px; display: block; }
        .path-step h4 { font-size: 0.95rem; color: var(--text-primary); font-weight: 800; margin-bottom: 5px; }
        .path-step p { font-size: 0.72rem; color: var(--text-secondary); line-height: 1.4; }

        /* التنقل */
        nav { 
            position: sticky; 
            top: 0; 
            z-index: 1000; 
            background: var(--nav-bg); 
            backdrop-filter: blur(10px); 
            padding: 12px 10px; 
            border-bottom: 1px solid var(--gold); 
            display: flex; 
            justify-content: safe center; 
            gap: 10px; 
            overflow-x: auto; 
            scroll-behavior: smooth; 
            -webkit-overflow-scrolling: touch; 
            scrollbar-width: none; 
        }
        
        nav::-webkit-scrollbar { display: none; }
        
        .nav-btn { 
            padding: 8px 22px; 
            border: none; 
            background: rgba(255,255,255,0.05); 
            color: var(--text-secondary); 
            font-weight: 800; 
            border-radius: 40px; 
            cursor: pointer; 
            white-space: nowrap; 
            flex-shrink: 0; 
            transition: 0.3s; 
        }
        
        .nav-btn.active { 
            background: var(--primary); 
            color: #fff; 
            box-shadow: 0 0 10px rgba(92, 10, 10, 0.4); 
        }
        
        /* قسم من نحن */
        .about-toggle { 
            background: none; 
            border: 1.5px solid var(--gold); 
            color: var(--gold); 
            padding: 8px 25px; 
            border-radius: 40px; 
            font-weight: 800; 
            cursor: pointer; 
            margin-bottom: 15px; 
            transition: 0.3s; 
            display: inline-block; 
            margin-left: 5px; 
        }
        
        .about-content { 
            max-height: 0; 
            overflow: hidden; 
            transition: max-height 0.5s ease-out; 
            background: var(--about-bg); 
            border-radius: 15px; 
            margin: 0 auto 15px; 
            max-width: 550px; 
            line-height: 1.6; 
            color: var(--text-secondary); 
            text-align: right; 
        }
        
        .about-content.open { 
            max-height: 1500px; 
            padding: 20px; 
            border: 1px solid var(--border); 
        }
        
        .sec { 
            width: 95%; 
            max-width: 1400px; 
            margin: 20px auto 100px; 
            display: none; 
            flex-grow: 1; 
        }
        
        .sec.active { display: block; }
        
        /* البطاقات - تصميم معدل لعرض الصور */
        .grid { 
            display: grid; 
            gap: 15px; 
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); 
        }
        
        .card { 
            background: var(--card); 
            border-radius: 12px; 
            overflow: hidden; 
            border: 1px solid var(--border); 
            position: relative; 
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            height: 100%;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px var(--shadow-color);
        }
        
        .img-container { 
            position: relative; 
            width: 100%; 
            height: 160px; 
            cursor: pointer; 
            overflow: hidden; 
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .img-container img { 
            width: 100%; 
            height: 100%; 
            object-fit: cover; 
            transition: transform 0.5s ease;
        }
        
        .img-container:hover img {
            transform: scale(1.05);
        }
        
        .wm-tag { 
            position: absolute; 
            bottom: 8px; 
            left: 50%; 
            transform: translateX(-50%); 
            font-size: 0.75rem; 
            font-weight: 900; 
            color: rgba(255, 255, 255, 0.35); 
            text-shadow: 0 0 8px var(--gold), 0 0 15px var(--gold); 
            pointer-events: none; 
            z-index: 2; 
            white-space: nowrap; 
        }
        
        .btn-order { 
            width: 100%; 
            padding: 12px; 
            background: var(--primary); 
            color: #fff; 
            border: none; 
            font-weight: 800; 
            cursor: pointer; 
            transition: background-color 0.3s ease;
        }
        
        .btn-order:hover {
            background: #7a0a0a;
        }
        
        .whatsapp-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            border-radius: 50px;
            padding: 15px 40px;
            width: auto;
            background: #fff;
            color: #000;
            font-weight: 900;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
        }
        
        .whatsapp-btn:hover {
            background: #f0f0f0;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .status-badge { 
            padding: 8px 25px; 
            border-radius: 50px; 
            font-weight: 900; 
            display: inline-flex; 
            align-items: center; 
            gap: 8px; 
            font-size: 0.9rem; 
            transition: 0.3s; 
        }
        
        .open-glow { 
            background: rgba(46, 204, 113, 0.15); 
            color: #2ecc71; 
            border: 1.5px solid #2ecc71; 
            box-shadow: 0 0 15px rgba(46, 204, 113, 0.4); 
        }
        
        .closed-glow { 
            background: rgba(231, 76, 60, 0.15); 
            color: #e74c3c; 
            border: 1.5px solid #e74c3c; 
            box-shadow: 0 0 15px rgba(231, 76, 60, 0.4); 
        }
        
        .social-icons { 
            display: flex; 
            justify-content: center; 
            gap: 25px; 
            margin-top: 30px; 
        }
        
        .social-icons a { 
            color: var(--gold); 
            font-size: 1.8rem; 
            transition: 0.3s; 
        }
        
        /* ========== المعرض المعدل ========== */
        #viewer { 
            position: fixed; 
            inset: 0; 
            background: rgba(0,0,0,0.98); 
            z-index: 1000000; 
            display: none; 
            align-items: center; 
            justify-content: center; 
            cursor: pointer;
        }
        
        #viewer-img { 
            max-width: 95%; 
            max-height: 95vh; 
            object-fit: contain;
            cursor: default;
            position: relative;
        }
        
        .viewer-watermark {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: rgba(255,255,255,0.3);
            font-size: 1.2rem;
            font-weight: bold;
            text-shadow: 0 0 10px rgba(197, 160, 89, 0.5);
            pointer-events: none;
            z-index: 1000001;
        }
        
        .close-viewer-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            background: rgba(231, 76, 60, 0.8);
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            z-index: 1000002;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        .close-viewer-btn:hover {
            background: #e74c3c;
            transform: scale(1.1);
        }
        /* ========== نهاية المعرض المعدل ========== */
        
        .admin-box { 
            max-width: 900px; 
            margin: 20px auto; 
            background: var(--admin-bg); 
            padding: 20px; 
            border-radius: 15px; 
            border: 1px solid var(--gold); 
            color: var(--text-primary);
        }
        
        .collapse-section { 
            background: var(--admin-section); 
            border-radius: 10px; 
            margin-bottom: 10px; 
            border: 1px solid var(--border); 
        }
        
        .collapse-btn { 
            width: 100%; 
            padding: 15px; 
            background: none; 
            border: none; 
            color: var(--gold); 
            font-weight: 800; 
            text-align: right; 
            display: flex; 
            justify-content: space-between; 
            cursor: pointer;
        }
        
        .collapse-content { 
            display: none; 
            padding: 15px; 
            border-top: 1px solid var(--border); 
        }
        
        input, textarea, select { 
            width: 100%; 
            padding: 12px; 
            margin-bottom: 10px; 
            background: var(--input-bg); 
            border: 1px solid var(--input-border); 
            color: var(--text-primary); 
            border-radius: 8px; 
            font-family: 'Tajawal'; 
            transition: border-color 0.3s ease;
        }
        
        input:focus, textarea:focus, select:focus {
            border-color: var(--gold);
            outline: none;
        }
        
        /* ========== محرر "من نحن" المحسن ========== */
        #editor-about { 
            min-height: 250px;
            background: var(--input-bg);
            border: 1px solid var(--input-border);
            padding: 15px;
            border-radius: 8px;
            color: var(--text-primary);
            outline: none;
            text-align: right;
            line-height: 1.8;
            font-size: 1rem;
            overflow-y: auto;
        }
        
        #editor-about h1, #editor-about h2, #editor-about h3, #editor-about h4 {
            color: var(--gold);
            margin: 15px 0 10px 0;
            font-weight: bold;
        }
        
        #editor-about h1 { font-size: 1.8rem; }
        #editor-about h2 { font-size: 1.5rem; }
        #editor-about h3 { font-size: 1.3rem; }
        #editor-about h4 { font-size: 1.1rem; }
        
        #editor-about b, #editor-about strong {
            color: var(--gold);
            font-weight: bold;
        }
        
        #editor-about i, #editor-about em {
            font-style: italic;
            color: var(--text-secondary);
        }
        
        #editor-about u {
            text-decoration: underline;
            color: var(--gold);
        }
        
        #editor-about ul, #editor-about ol {
            padding-right: 20px;
            margin: 10px 0;
        }
        
        #editor-about li {
            margin-bottom: 5px;
        }
        
        #editor-about a {
            color: var(--gold);
            text-decoration: underline;
        }
        
        /* شريط أدوات التنسيق */
        .format-toolbar {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-bottom: 10px;
            padding: 10px;
            background: var(--admin-section);
            border-radius: 8px;
            border: 1px solid var(--border);
        }
        
        .format-btn {
            width: 40px;
            height: 40px;
            background: var(--input-bg);
            border: 1px solid var(--input-border);
            color: var(--text-primary);
            border-radius: 5px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        
        .format-btn:hover {
            background: var(--gold);
            color: #000;
            border-color: var(--gold);
        }
        
        .format-btn.active {
            background: var(--gold);
            color: #000;
            border-color: var(--gold);
        }
        
        .color-picker-container {
            position: relative;
            display: inline-block;
        }
        
        .color-preview {
            width: 40px;
            height: 40px;
            border-radius: 5px;
            border: 1px solid var(--input-border);
            cursor: pointer;
        }
        
        .color-palette {
            position: absolute;
            top: 45px;
            right: 0;
            display: none;
            grid-template-columns: repeat(5, 1fr);
            gap: 5px;
            padding: 10px;
            background: var(--admin-section);
            border: 1px solid var(--border);
            border-radius: 8px;
            z-index: 100;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        
        .color-option {
            width: 30px;
            height: 30px;
            border-radius: 4px;
            cursor: pointer;
            border: 2px solid transparent;
            transition: transform 0.2s;
        }
        
        .color-option:hover {
            transform: scale(1.1);
        }
        
        .color-option.selected {
            border-color: #fff;
            box-shadow: 0 0 5px rgba(255,255,255,0.5);
        }
        /* ========== نهاية محرر "من نحن" المحسن ========== */
        
        #hidden-trigger { 
            position: fixed; 
            bottom: 0; 
            left: 0; 
            width: 60px; 
            height: 60px; 
            z-index: 200000000; 
            cursor: pointer; 
            opacity: 0;
        }
        
        footer { 
            padding: 20px; 
            text-align: center; 
            color: var(--text-secondary); 
            font-size: 0.9rem; 
            border-top: 1px solid var(--border); 
            margin-top: auto; 
        }
        
        .reviews-display-box { 
            background: var(--path-bg); 
            border: 1px solid var(--border); 
            border-radius: 15px; 
            max-width: 550px; 
            margin: 10px auto 20px; 
            padding: 20px; 
            min-height: 120px; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            text-align: center; 
            position: relative; 
            overflow: hidden; 
        }
        
        .review-item { 
            position: absolute; 
            width: 100%; 
            padding: 20px; 
            transition: 0.5s; 
            opacity: 0; 
            transform: translateY(20px); 
            pointer-events: none; 
        }
        
        .review-item.active { 
            opacity: 1; 
            transform: translateY(0); 
            pointer-events: auto; 
        }
        
        #cat-overlay { 
            display: none; 
            position: fixed; 
            inset: 0; 
            background: #000; 
            z-index: 100000001; 
            flex-direction: column; 
        }
        
        .gold-btn {
            background: linear-gradient(135deg, var(--gold), #b8860b);
            color: #000;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .gold-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(197, 160, 89, 0.4);
        }
        
        /* معاينة الخطوط */
        .font-preview {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .font-option {
            padding: 10px;
            border: 2px solid transparent;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }
        
        .font-option:hover {
            border-color: var(--gold);
            background: rgba(197, 160, 89, 0.05);
        }
        
        .font-option.selected {
            border-color: var(--gold);
            background: rgba(197, 160, 89, 0.1);
        }
        
        .font-option.tajawal { font-family: 'Tajawal', sans-serif; }
        .font-option.amiri { font-family: 'Amiri', serif; }
        .font-option.lateef { font-family: 'Lateef', serif; }
        .font-option.almarai { font-family: 'Almarai', sans-serif; }
        .font-option.changa { font-family: 'Changa', sans-serif; }
        .font-option.lalezar { font-family: 'Lalezar', cursive; }
        
        /* زر تفعيل/تعطيل الحماية للمشرف */
        #protection-toggle {
            position: fixed;
            bottom: 70px;
            left: 10px;
            width: 50px;
            height: 50px;
            background: var(--green);
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            z-index: 200000001;
            display: none;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
        }
        
        #protection-toggle.active {
            background: var(--red);
        }
        
        #protection-toggle:hover {
            transform: scale(1.1);
        }
        
        /* ========== تصميم المساحة الحرة المصلح ========== */
        .drawing-section {
            background: var(--card);
            border-radius: 20px;
            padding: 25px;
            margin: 30px auto;
            max-width: 1200px;
            border: 1px solid var(--border);
            box-shadow: 0 10px 30px var(--shadow-color);
            position: relative;
        }
        
        .drawing-description {
            color: var(--text-secondary);
            margin-bottom: 25px;
            line-height: 1.6;
            text-align: center;
            font-size: 1.1rem;
            background: var(--path-bg);
            padding: 20px;
            border-radius: 15px;
            border: 1px solid var(--border);
        }
        
        .drawing-tools {
            background: var(--input-bg);
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 20px;
            border: 1px solid var(--border);
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            align-items: center;
        }
        
        .drawing-tool-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 25px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(255,255,255,0.1);
            color: var(--text-primary);
        }
        
        .drawing-tool-btn.active {
            background: var(--gold);
            color: #000;
            transform: scale(1.05);
        }
        
        .color-palette-drawing {
            display: flex;
            gap: 8px;
            margin: 10px 0;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .color-dot {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            border: 3px solid transparent;
            transition: all 0.3s ease;
        }
        
        .color-dot:hover {
            transform: scale(1.1);
        }
        
        .color-dot.selected {
            border-color: #fff;
            box-shadow: 0 0 10px rgba(255,255,255,0.5);
        }
        
        .brush-size-control {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--text-primary);
            margin: 10px 0;
        }
        
        .brush-size-control input {
            width: 150px;
            margin: 0;
        }
        
        /* الحاوية المعدلة - تم إزالة التمركز الزائد */
        .drawing-canvas-container {
            background: #ffffff;
            border-radius: 15px;
            overflow: visible;
            margin: 20px 0;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            position: relative;
            min-height: 600px;
            display: block;
            /* إزالة الطبقات الإضافية */
            user-select: auto !important;
            -webkit-user-select: auto !important;
            -moz-user-select: auto !important;
            -ms-user-select: auto !important;
            pointer-events: auto !important;
            isolation: isolate;
            z-index: 10;
        }
        
        /* الكانفاس المعدل - له الأولوية */
        .drawing-canvas {
            width: 100%;
            height: 600px;
            display: block;
            cursor: crosshair;
            background: #f9f9f9;
            border-radius: 15px;
            /* منح الأولوية للأحداث */
            position: relative;
            z-index: 1000 !important;
            user-select: auto !important;
            -webkit-user-select: auto !important;
            -moz-user-select: auto !important;
            -ms-user-select: auto !important;
            pointer-events: auto !important;
            touch-action: none;
            -webkit-touch-callout: none;
            outline: none;
        }
        
        .canvas-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 25px;
            flex-wrap: wrap;
        }
        
        .drawing-action-btn {
            padding: 15px 30px;
            border-radius: 25px;
            font-weight: bold;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
            border: none;
        }
        
        .drawing-action-btn.whatsapp {
            background: linear-gradient(135deg, #25D366, #128C7E);
            color: white;
        }
        
        .drawing-action-btn.download {
            background: linear-gradient(135deg, var(--gold), #b8860b);
            color: #000;
        }
        
        .drawing-action-btn.clear {
            background: linear-gradient(135deg, var(--red), #c0392b);
            color: white;
        }
        
        .drawing-action-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }
        
        .drawing-info {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-top: 20px;
            text-align: center;
            padding: 15px;
            background: var(--path-bg);
            border-radius: 10px;
            border: 1px solid var(--border);
        }
        
        /* ========== أداة الشكل ========== */
        .shape-tools {
            display: flex;
            gap: 10px;
            margin-left: 20px;
        }
        
        .shape-btn {
            width: 40px;
            height: 40px;
            background: var(--input-bg);
            border: 1px solid var(--input-border);
            color: var(--text-primary);
            border-radius: 5px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: all 0.3s ease;
        }
        
        .shape-btn.active {
            background: var(--gold);
            color: #000;
            border-color: var(--gold);
        }
        
        .drawing-welcome {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: #999;
            font-size: 1.2rem;
            pointer-events: none;
            z-index: 1;
        }
        /* ========== نهاية تصميم المساحة الحرة ========== */
    </style>
</head>
<body>
<!-- تنبيه الحماية -->
<div id="protection-notification">
    <div class="protection-text-small" id="protection-message-content">
        تم تعطيل الخاصية من قبل الحماية
    </div>
    <button class="protection-close" onclick="closeProtectionNotification()">
        <i class="fas fa-times"></i>
    </button>
</div>

<div id="splash"> 
    <h2 style="color:var(--gold); font-size:2rem;">بصمة غير...</h2> 
</div>

<div class="partners-section">
    <div class="partners-title-container">
        <div id="partners-title-text" class="partners-title"></div>
    </div>
    <div id="partners-display" class="partner-slide-container"></div>
</div>

<nav id="navbar"></nav>

<main id="content-area"></main>

<footer id="site-footer"></footer>

<button id="protection-toggle" onclick="toggleProtection()" title="تفعيل/تعطيل الحماية">
    <i class="fas fa-shield-alt"></i>
</button>

<div id="admin-panel">
    <div class="admin-box">
        <h2 style="color:var(--gold); text-align:center; margin-bottom:20px;">لوحة الإدارة</h2>
        <button onclick="location.reload()" style="width:100%; background:var(--red); color:#fff; padding:15px; border:none; margin-top:20px;">خروج</button>
    </div>
</div>

<div id="hidden-trigger" onclick="checkAccess()"></div>

<script>
    // ========== تهيئة Firebase ==========
    const firebaseConfig = {
        apiKey: "AIzaSyC0hGvWzpb0UxA_RrYn-0PQKyaATXavEGY",
        authDomain: "mydecor-b29bd.firebaseapp.com",
        databaseURL: "https://mydecor-b29bd-default-rtdb.europe-west1.firebasedatabase.app",
        projectId: "mydecor-b29bd",
        storageBucket: "mydecor-b29bd.firebasestorage.app",
        messagingSenderId: "302609299720",
        appId: "1:302609299720:web:e086b600c3ee824acd54bd"
    };

    firebase.initializeApp(firebaseConfig);
    
    const db = firebase.database();
    const auth = firebase.auth();
    const DB_PATH = 'site_v28';
    
    let currentData = {}; 
    let currentTab = 'home'; 
    let isAdmin = false;
    
    // ========== متغيرات المساحة الحرة ==========
    let drawingCanvas, drawingCtx;
    let currentDrawingTool = 'pen';
    let currentDrawingColor = '#000000';
    let currentBrushSize = 5;
    let isDrawing = false;
    let lastX = 0;
    let lastY = 0;
    let isDrawingShape = false;
    let startX, startY;
    let currentShape = '';
    let savedDrawing = null;

    // ========== تهيئة الصفحة ==========
    document.addEventListener('DOMContentLoaded', function() {
        loadData();
        setTimeout(() => {
            document.getElementById('splash').style.opacity = '0';
            setTimeout(() => {
                document.getElementById('splash').style.display = 'none';
            }, 500);
        }, 1500);
    });

    function loadData() {
        db.ref(DB_PATH).on('value', snap => {
            currentData = snap.val() || {};
            renderAll();
            document.getElementById('site-footer').innerText = currentData.footer_text || 'جميع الحقوق محفوظة © بصمة غير للديكور';
        });
    }

    function renderAll() {
        const d = currentData;
        
        let navHtml = `<button class="nav-btn ${currentTab==='home'?'active':''}" onclick="go('home')">الرئيسية</button>`;
        navHtml += `<button class="nav-btn ${currentTab==='catalogs'?'active':''}" onclick="go('catalogs')">الكتالوج</button>`;
        
        if(d.drawing_active !== false) {
            navHtml += `<button class="nav-btn ${currentTab==='drawing'?'active':''}" onclick="go('drawing')">${d.drawing_button_text || 'المساحة الحرة'}</button>`;
        }
        
        if(d.pages) Object.keys(d.pages).forEach(id => navHtml += `<button class="nav-btn ${currentTab===id?'active':''}" onclick="go('${id}')">${d.pages[id].title}</button>`);
        navHtml += `<button class="nav-btn ${currentTab==='works'||currentTab.startsWith('alb-')?'active':''}" onclick="go('works')">أعمالنا</button>`;
        document.getElementById('navbar').innerHTML = navHtml;
        
        let mainContent = `<section class="sec ${currentTab==='home'?'active':''}">
            <div style="text-align:center; padding:20px;">
                <h2 style="color:var(--gold); margin-bottom:20px;">مرحباً بكم في بصمة غير للديكور</h2>
                <p style="color:var(--text-secondary); margin-bottom:30px;">نقدم لكم أفضل حلول الديكور والتشطيب</p>
                <button onclick="whatsappGlobal()" class="drawing-action-btn whatsapp">تواصل معنا <i class="fab fa-whatsapp"></i></button>
            </div>
        </section>`;
        
        let contentHtml = mainContent;
        
        contentHtml += `<section class="sec ${currentTab==='catalogs'?'active':''}"><div style="padding:50px; text-align:center; color:var(--text-secondary);">قريباً...</div></section>`;
        
        // إضافة قسم المساحة الحرة
        contentHtml += `
        <section class="sec ${currentTab==='drawing'?'active':''}">
            <div class="drawing-section">
                <h2 style="color:var(--gold); margin-bottom:15px; text-align:center;">${d.drawing_title || 'المساحة الحرة للرسم'}</h2>
                
                <div class="drawing-description">
                    ${d.drawing_description || 'يمكنك هنا رسم فكرتك التقريبية للتصميم. ارسم ما يجول بخاطرك وسنقوم بتحويله إلى واقع!'}
                </div>
                
                <div class="drawing-tools">
                    <button class="drawing-tool-btn active" id="pen-tool" onclick="setActiveTool('pen')">
                        <i class="fas fa-pen"></i> قلم
                    </button>
                    <button class="drawing-tool-btn" id="eraser-tool" onclick="setActiveTool('eraser')">
                        <i class="fas fa-eraser"></i> ممحاة
                    </button>
                    
                    <div class="shape-tools">
                        <button class="shape-btn" id="rect-tool" onclick="setActiveTool('rect')" title="مستطيل">
                            <i class="fas fa-square"></i>
                        </button>
                        <button class="shape-btn" id="circle-tool" onclick="setActiveTool('circle')" title="دائرة">
                            <i class="fas fa-circle"></i>
                        </button>
                        <button class="shape-btn" id="line-tool" onclick="setActiveTool('line')" title="خط">
                            <i class="fas fa-slash"></i>
                        </button>
                    </div>
                    
                    <div style="margin: 0 20px;">
                        <p style="color:var(--text-primary); margin-bottom:8px; text-align:center;">اختر اللون:</p>
                        <div class="color-palette-drawing" id="color-palette">
                            <div class="color-dot selected" onclick="selectColor('#000000')" style="background:#000;"></div>
                            <div class="color-dot" onclick="selectColor('#c5a059')" style="background:#c5a059;"></div>
                            <div class="color-dot" onclick="selectColor('#e74c3c')" style="background:#e74c3c;"></div>
                            <div class="color-dot" onclick="selectColor('#2ecc71')" style="background:#2ecc71;"></div>
                            <div class="color-dot" onclick="selectColor('#3498db')" style="background:#3498db;"></div>
                            <div class="color-dot" onclick="selectColor('#9b59b6')" style="background:#9b59b6;"></div>
                            <div class="color-dot" onclick="selectColor('#ffffff')" style="background:#ffffff; border:1px solid #ccc;"></div>
                        </div>
                    </div>
                    
                    <div class="brush-size-control">
                        <span>حجم القلم:</span>
                        <input type="range" id="brush-size" min="1" max="50" value="5" oninput="updateBrushSize(this.value)">
                        <span id="brush-size-value">5</span>
                    </div>
                </div>
                
                <div class="drawing-canvas-container">
                    <canvas id="drawing-canvas" class="drawing-canvas"></canvas>
                    <div class="drawing-welcome" id="drawing-welcome">ابدأ الرسم هنا...</div>
                </div>
                
                <div class="canvas-controls">
                    <button onclick="saveDrawingToWhatsApp()" class="drawing-action-btn whatsapp">
                        <i class="fab fa-whatsapp"></i> إرسال الرسم عبر واتساب
                    </button>
                    
                    <button onclick="downloadDrawing()" class="drawing-action-btn download">
                        <i class="fas fa-download"></i> حفظ الرسم
                    </button>
                    
                    <button onclick="clearDrawingCanvas()" class="drawing-action-btn clear">
                        <i class="fas fa-trash"></i> مسح الكل
                    </button>
                </div>
                
                <div class="drawing-info">
                    <i class="fas fa-info-circle"></i> 
                    الرسم غير مخزن على الموقع، فهو خاص بك فقط. يمكنك حفظ الرسم وإرساله إلينا عبر واتساب للمناقشة
                </div>
            </div>
        </section>`;
        
        if(d.pages) Object.keys(d.pages).forEach(id => contentHtml += `<section class="sec ${currentTab===id?'active':''}"><div style="padding:50px; text-align:center; color:var(--text-secondary);">قريباً...</div></section>`);
        contentHtml += `<section class="sec ${currentTab==='works'?'active':''}"><div style="padding:50px; text-align:center; color:var(--text-secondary);">قريباً...</div></section>`;
        
        document.getElementById('content-area').innerHTML = contentHtml;
        
        // تهيئة لوحة الرسم إذا كان القسم الحالي هو المساحة الحرة
        if(currentTab === 'drawing') {
            setTimeout(initDrawingCanvas, 100);
        }
    }

    function go(id) { 
        currentTab=id; 
        renderAll(); 
        window.scrollTo(0,0); 
    }

    function whatsappGlobal() { 
        window.open(`https://wa.me/${currentData.whatsapp_num || '966500000000'}?text=${encodeURIComponent('السلام عليكم، أود التواصل مع بصمة غير للديكور.')}`, '_blank'); 
    }

    // ========== نظام المساحة الحرة المحسن ==========
    function initDrawingCanvas() {
        drawingCanvas = document.getElementById('drawing-canvas');
        if (!drawingCanvas) {
            console.error('Canvas not found');
            return;
        }
        
        drawingCtx = drawingCanvas.getContext('2d');
        
        // تعيين حجم اللوحة
        const container = drawingCanvas.parentElement;
        drawingCanvas.width = container.clientWidth;
        drawingCanvas.height = 600;
        
        // إعدادات الرسم الأساسية
        drawingCtx.lineCap = 'round';
        drawingCtx.lineJoin = 'round';
        drawingCtx.strokeStyle = currentDrawingColor;
        drawingCtx.lineWidth = currentBrushSize;
        drawingCtx.fillStyle = '#f9f9f9';
        drawingCtx.fillRect(0, 0, drawingCanvas.width, drawingCanvas.height);
        
        // إضافة أحداث الماوس
        setupCanvasEvents();
        
        // تحديث عرض حجم الفرشاة
        document.getElementById('brush-size-value').textContent = currentBrushSize;
        
        console.log('Canvas initialized successfully - Events ready');
    }

    function setupCanvasEvents() {
        // إزالة الأحداث القديمة أولاً
        drawingCanvas.removeEventListener('mousedown', startDrawing);
        drawingCanvas.removeEventListener('mousemove', draw);
        drawingCanvas.removeEventListener('mouseup', stopDrawing);
        drawingCanvas.removeEventListener('mouseout', stopDrawing);
        
        // إضافة أحداث جديدة مع useCapture: true لمنح الأولوية
        drawingCanvas.addEventListener('mousedown', startDrawing, true);
        drawingCanvas.addEventListener('mousemove', draw, true);
        drawingCanvas.addEventListener('mouseup', stopDrawing, true);
        drawingCanvas.addEventListener('mouseout', stopDrawing, true);
        
        // أحداث اللمس للشاشات المحمولة
        drawingCanvas.addEventListener('touchstart', function(e) {
            e.preventDefault();
            const touch = e.touches[0];
            const mouseEvent = new MouseEvent('mousedown', {
                clientX: touch.clientX,
                clientY: touch.clientY,
                bubbles: true,
                cancelable: true
            });
            drawingCanvas.dispatchEvent(mouseEvent);
        }, {passive: false});
        
        drawingCanvas.addEventListener('touchmove', function(e) {
            e.preventDefault();
            const touch = e.touches[0];
            const mouseEvent = new MouseEvent('mousemove', {
                clientX: touch.clientX,
                clientY: touch.clientY,
                bubbles: true,
                cancelable: true
            });
            drawingCanvas.dispatchEvent(mouseEvent);
        }, {passive: false});
        
        drawingCanvas.addEventListener('touchend', function(e) {
            e.preventDefault();
            const mouseEvent = new MouseEvent('mouseup', {
                bubbles: true,
                cancelable: true
            });
            drawingCanvas.dispatchEvent(mouseEvent);
        }, {passive: false});
        
        // منع السلوك الافتراضي للعناصر الأخرى
        drawingCanvas.addEventListener('contextmenu', function(e) {
            e.preventDefault();
            return false;
        });
    }

    function startDrawing(e) {
        isDrawing = true;
        const rect = drawingCanvas.getBoundingClientRect();
        lastX = e.clientX - rect.left;
        lastY = e.clientY - rect.top;
        
        if (currentShape) {
            isDrawingShape = true;
            startX = lastX;
            startY = lastY;
        } else {
            drawingCtx.beginPath();
            drawingCtx.moveTo(lastX, lastY);
            drawingCtx.stroke();
        }
        
        // إخفاء رسالة الترحيب
        document.getElementById('drawing-welcome').style.display = 'none';
        
        e.preventDefault();
        return false;
    }

    function draw(e) {
        if (!isDrawing) return;
        
        const rect = drawingCanvas.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;
        
        if (isDrawingShape) {
            // مسح الشكل القديم
            redrawSavedCanvas();
            
            // رسم الشكل الجديد
            drawingCtx.strokeStyle = currentDrawingColor;
            drawingCtx.lineWidth = currentBrushSize;
            drawingCtx.beginPath();
            
            if (currentShape === 'rect') {
                const width = x - startX;
                const height = y - startY;
                drawingCtx.rect(startX, startY, width, height);
            } else if (currentShape === 'circle') {
                const radius = Math.sqrt(Math.pow(x - startX, 2) + Math.pow(y - startY, 2));
                drawingCtx.arc(startX, startY, radius, 0, Math.PI * 2);
            } else if (currentShape === 'line') {
                drawingCtx.moveTo(startX, startY);
                drawingCtx.lineTo(x, y);
            }
            
            drawingCtx.stroke();
        } else {
            drawingCtx.lineTo(x, y);
            drawingCtx.stroke();
            [lastX, lastY] = [x, y];
        }
        
        e.preventDefault();
        return false;
    }

    function stopDrawing() {
        if (isDrawingShape) {
            isDrawingShape = false;
            // حفظ الشكل النهائي
            saveCanvasState();
        }
        isDrawing = false;
        drawingCtx.beginPath();
        
        // حفظ حالة اللوحة
        saveCanvasState();
    }

    function saveCanvasState() {
        savedDrawing = drawingCanvas.toDataURL();
    }

    function redrawSavedCanvas() {
        if (savedDrawing) {
            const img = new Image();
            img.onload = function() {
                drawingCtx.clearRect(0, 0, drawingCanvas.width, drawingCanvas.height);
                drawingCtx.fillStyle = '#f9f9f9';
                drawingCtx.fillRect(0, 0, drawingCanvas.width, drawingCanvas.height);
                drawingCtx.drawImage(img, 0, 0);
            };
            img.src = savedDrawing;
        }
    }

    function setActiveTool(tool) {
        currentDrawingTool = tool;
        currentShape = tool;
        
        // تحديث أزرار الأدوات
        document.querySelectorAll('.drawing-tool-btn').forEach(btn => {
            btn.classList.remove('active');
        });
        
        document.querySelectorAll('.shape-btn').forEach(btn => {
            btn.classList.remove('active');
        });
        
        if (tool === 'pen') {
            document.getElementById('pen-tool').classList.add('active');
            drawingCtx.strokeStyle = currentDrawingColor;
            drawingCtx.lineWidth = currentBrushSize;
            currentShape = '';
        } else if (tool === 'eraser') {
            document.getElementById('eraser-tool').classList.add('active');
            drawingCtx.strokeStyle = '#f9f9f9';
            drawingCtx.lineWidth = currentBrushSize * 2;
            currentShape = '';
        } else if (tool === 'rect') {
            document.getElementById('rect-tool').classList.add('active');
        } else if (tool === 'circle') {
            document.getElementById('circle-tool').classList.add('active');
        } else if (tool === 'line') {
            document.getElementById('line-tool').classList.add('active');
        }
    }

    function selectColor(color) {
        currentDrawingColor = color;
        
        // تحديث الألوان المحددة
        document.querySelectorAll('.color-dot').forEach(dot => {
            dot.classList.remove('selected');
        });
        event.target.classList.add('selected');
        
        if (currentDrawingTool === 'pen') {
            drawingCtx.strokeStyle = color;
        }
    }

    function updateBrushSize(size) {
        currentBrushSize = parseInt(size);
        document.getElementById('brush-size-value').textContent = size;
        drawingCtx.lineWidth = currentBrushSize;
        if (currentDrawingTool === 'eraser') {
            drawingCtx.lineWidth = currentBrushSize * 2;
        }
    }

    function clearDrawingCanvas() {
        if (confirm('هل تريد مسح الرسم بالكامل؟')) {
            drawingCtx.fillStyle = '#f9f9f9';
            drawingCtx.fillRect(0, 0, drawingCanvas.width, drawingCanvas.height);
            savedDrawing = null;
            document.getElementById('drawing-welcome').style.display = 'block';
        }
    }

    function saveDrawingToWhatsApp() {
        if (isCanvasEmpty()) {
            alert('الرسم فارغ، يرجى الرسم أولاً');
            return;
        }
        
        const imageData = drawingCanvas.toDataURL('image/png');
        const message = encodeURIComponent(currentData.drawing_whatsapp_message || 'السلام عليكم، أود الاستفسار عن هذا الرسم التخطيطي:');
        const whatsappNum = currentData.whatsapp_num || '966500000000';
        
        const instruction = `
        📱 خطوات إرسال الرسم:
        
        1. اضغط على زر "حفظ الرسم" أولاً
        2. انتقل إلى واتساب
        3. أرسل لنا الصورة المحفوظة مع شرح لفكرتك
        
        شكراً لثقتك بنا! ✨
        `;
        
        if (confirm(instruction)) {
            // فتح واتساب
            window.open(`https://wa.me/${whatsappNum}?text=${message}`, '_blank');
        }
    }

    function downloadDrawing() {
        if (isCanvasEmpty()) {
            alert('الرسم فارغ، يرجى الرسم أولاً');
            return;
        }
        
        const link = document.createElement('a');
        link.download = `تصميم-بصمة-غير-${Date.now()}.png`;
        link.href = drawingCanvas.toDataURL('image/png');
        link.click();
        
        alert('✅ تم حفظ الرسم بنجاح');
    }

    function isCanvasEmpty() {
        if (!drawingCanvas) return true;
        
        const blank = document.createElement('canvas');
        blank.width = drawingCanvas.width;
        blank.height = drawingCanvas.height;
        const blankCtx = blank.getContext('2d');
        blankCtx.fillStyle = '#f9f9f9';
        blankCtx.fillRect(0, 0, blank.width, blank.height);
        
        return drawingCanvas.toDataURL() === blank.toDataURL();
    }

    // ========== دوال الإدارة ==========
    function checkAccess() {
        const userInput = prompt("🔐 أدخل رمز الإدارة:");
        if (userInput === "123456") {
            isAdmin = true;
            document.getElementById('admin-panel').style.display = 'block';
            document.getElementById('protection-toggle').style.display = 'flex';
        }
    }

    function toggleProtection() {
        alert('خاصية الحماية');
    }
</script>
</body>
    </html>
